<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Hexbin Map</title>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="http://d3js.org/d3.hexbin.v0.min.js"></script>
	<script src="http://d3js.org/queue.v1.min.js"></script>
	<script src="http://d3js.org/topojson.v1.min.js"></script>
	<style type="text/css" media="screen">
	
	
	
	
		
	</style>
</head>
<body>
	<script type="text/javascript" charset="utf-8">
		
		var margin = {top: 20, right: 20, bottom: 20, left: 20}
				width  = 750 - margin.left - margin.right, 
				height = 500 - margin.top - margin.bottom;
				
		var color = d3.time.scale()
				.domain([new Date(2000, 0, 1), (2012, 0, 1)])
				.range(["black", "steelblue"])
				.interpolate(d3.interpolatelab);
		
		var hexbin = d3.hexbin()
			 .size([width, height])
  	   .radius(8);
			
	  var radius = d3.scale.sqrt()
			 .domain([0, 12])
		   .range([0, 8]);	
		
	  var projection = d3.geo.albers()
			  .scale(1000)
			  .translate([width / 2, height / 2])
			  .precision(.1);
				
		var path = d3.geo.path()
				.projection(projection);	
		
		var svg = d3.select("body").append("svg")
				.attr("width", width)
		    .attr("height", height);	
		
	
		d3.csv('bike_collisions.csv', function(d){
			
	  
	  data.forEach(function(d){
		var p   = projection(d);
			  d[0] = p[0], d[1] = p[1];
			  d.location = parseFloat(d.location)
	  });
			
     
		

     
		
	</script>
	
</body>
</html>
